# ♪ インシデントを起こす

# #目的

このモジュールの目的は、自分自身を「オンコール」にして、付属のEC2インスタンスを使ってインシデントを生成し、インシデントのライフサイクルに沿って作業できるようにすることです。

---

## 1. オンコール

インシデントを発生させる前に、自分自身を **Follow the Sun Support - Business Hours** ローテーションの中の現在のシフトに割り当て、さらに自分自身を **On-Call** に配置する必要があります。

* 左側の**People**セクションにある**Team**内の**Schedule**リンクをクリックするか、**Teams → [Your Team] → Rotations**に移動します。
* **Follow the Sun Support - Business Hours** ローテーションを展開します。
* あなたのタイムゾーンに応じた現在のアクティブなシフトの**メンバー管理**アイコンをクリックします。
![メンバーの管理](../../images/oncall/manage-members.png)
* **Select a user to add...** のドロップダウンを使用して、自分をシフトに追加します。
* 次に、自分の名前の横にある**Set Current**をクリックして、自分をシフト内の現在の**on-call**ユーザーにします。
* これで、あなたの携帯電話に**オンコールになった**ことを知らせる**プッシュ通知**が届くはずです。
![On Duty](../../images/oncall/on-duty.png){: .center}。

## 2. 警告を出す

EC2インスタンスに接続されたシェルセッションに戻ると、以下のコマンドがすべてインスタンスから実行されます。

以下のコマンドを実行して、CPUを強制的に100%にスパイクさせます。

=== "シェルコマンド"

    ```
    openssl speed -multi $(grep -ci processor /proc/cpuinfo)
    ```

=== "出力"

    ```
    フォークされた子 0
    +DT:md4:3:16
    +R:19357020:md4:3.000000
    +DT:md4:3:64
    +R:14706608:md4:3.010000
    +DT:md4:3:256
    +R:8262960:md4:3.000000
    +DT:md4:3:1024
    ```

この結果、Splunk Infrastructure Monitoring によってアラートが生成され、さらに最大 10 秒以内に Splunk On-Call でインシデントが生成されます。これは、お使いのインスタンスにインストールされている SignalFx エージェントのデフォルトのポーリング時間です (1秒に短縮することもできます)。

---
Manage Incidents](../manage_incidents/)モジュールを続行します。
